# watttime-go
Go library for the [Watttime API](https://www.watttime.org/api-documentation/#introduction)

## Installing

```shell
go get github.com/IuryAlves/watttime-go
```

<!-- gomarkdoc:embed:start -->

<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# pkg

```go
import "github.com/IuryAlves/watttime-go/pkg"
```

## Index

- [Constants](<#constants>)
- [type RealTimeEmissionsIndex](<#type-realtimeemissionsindex>)
- [type Token](<#type-token>)
- [type WattTime](<#type-watttime>)
  - [func New() *WattTime](<#func-new>)
  - [func (w WattTime) Index(token string, ba string) (RealTimeEmissionsIndex, error)](<#func-watttime-index>)
  - [func (w WattTime) Login(username, password string) (string, error)](<#func-watttime-login>)


## Constants

```go
const (
    BaseEndpoint  = "https://api2.watttime.org"
    LoginEndpoint = BaseEndpoint + "/login"
    IndexEndpoint = LoginEndpoint + "/index"
)
```

## type [RealTimeEmissionsIndex](<https://github.com/IuryAlves/watttime-go/blob/main/pkg/types.go#L7-L13>)

```go
type RealTimeEmissionsIndex struct {
    Freq      string
    Ba        string
    Percent   string
    Moer      string
    PointTime string `json:"point_time"`
}
```

## type [Token](<https://github.com/IuryAlves/watttime-go/blob/main/pkg/types.go#L3-L5>)

```go
type Token struct {
    Value string `json:"token"`
}
```

## type [WattTime](<https://github.com/IuryAlves/watttime-go/blob/main/pkg/watttime.go#L17-L19>)

```go
type WattTime struct {
    Client internal.HTTPClient
}
```

### func [New](<https://github.com/IuryAlves/watttime-go/blob/main/pkg/watttime.go#L22>)

```go
func New() *WattTime
```

New Instantiates a WattTime Client

### func \(WattTime\) [Index](<https://github.com/IuryAlves/watttime-go/blob/main/pkg/watttime.go#L50>)

```go
func (w WattTime) Index(token string, ba string) (RealTimeEmissionsIndex, error)
```

Index Provides a real\-time signal indicating the marginal carbon intensity for the local grid for the current time \(updated every 5 minutes\)\.

### func \(WattTime\) [Login](<https://github.com/IuryAlves/watttime-go/blob/main/pkg/watttime.go#L29>)

```go
func (w WattTime) Login(username, password string) (string, error)
```

#### Login Authenticates towards the WattTime API

Login returns a token of type string\. Use the token for further requests towards the API

<details><summary>Example</summary>
<p>

```go
{
	wattTime := New()
	token, err := wattTime.Login("<username>", "<password>")
	if err != nil {
		fmt.Println(err.Error())
	}

}
```

#### Output

```
token
```

</p>
</details>



Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)


<!-- gomarkdoc:embed:end -->